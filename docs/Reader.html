<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Reader - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Client.html">Client</a><ul class='methods'><li data-type='method'><a href="Client.html#createDatabase">createDatabase</a></li><li data-type='method'><a href="Client.html#createRetentionPolicy">createRetentionPolicy</a></li><li data-type='method'><a href="Client.html#dropDatabase">dropDatabase</a></li><li data-type='method'><a href="Client.html#dropRetentionPolicy">dropRetentionPolicy</a></li><li data-type='method'><a href="Client.html#on">on</a></li><li data-type='method'><a href="Client.html#query">query</a></li><li data-type='method'><a href="Client.html#queryPost">queryPost</a></li><li data-type='method'><a href="Client.html#queryRaw">queryRaw</a></li><li data-type='method'><a href="Client.html#schema">schema</a></li><li data-type='method'><a href="Client.html#showDatabases">showDatabases</a></li><li data-type='method'><a href="Client.html#showFieldKeys">showFieldKeys</a></li><li data-type='method'><a href="Client.html#showMeasurements">showMeasurements</a></li><li data-type='method'><a href="Client.html#showRetentionPolicies">showRetentionPolicies</a></li><li data-type='method'><a href="Client.html#showTagKeys">showTagKeys</a></li><li data-type='method'><a href="Client.html#startHealthCheck">startHealthCheck</a></li><li data-type='method'><a href="Client.html#stopHealthCheck">stopHealthCheck</a></li><li data-type='method'><a href="Client.html#syncQuery">syncQuery</a></li><li data-type='method'><a href="Client.html#syncWrite">syncWrite</a></li><li data-type='method'><a href="Client.html#updateRetentionPolicy">updateRetentionPolicy</a></li><li data-type='method'><a href="Client.html#write">write</a></li><li data-type='method'><a href="Client.html#writePoint">writePoint</a></li></ul></li><li><a href="QL.html">QL</a><ul class='methods'><li data-type='method'><a href="QL.html#addField">addField</a></li><li data-type='method'><a href="QL.html#addFunction">addFunction</a></li><li data-type='method'><a href="QL.html#addGroup">addGroup</a></li><li data-type='method'><a href="QL.html#clean">clean</a></li><li data-type='method'><a href="QL.html#emptyConditions">emptyConditions</a></li><li data-type='method'><a href="QL.html#emptyFields">emptyFields</a></li><li data-type='method'><a href="QL.html#emptyFunctions">emptyFunctions</a></li><li data-type='method'><a href="QL.html#emptyGroups">emptyGroups</a></li><li data-type='method'><a href="QL.html#removeField">removeField</a></li><li data-type='method'><a href="QL.html#removeFunction">removeFunction</a></li><li data-type='method'><a href="QL.html#removeGroup">removeGroup</a></li><li data-type='method'><a href="QL.html#subQuery">subQuery</a></li><li data-type='method'><a href="QL.html#toSelect">toSelect</a></li><li data-type='method'><a href="QL.html#where">where</a></li></ul></li><li><a href="Reader.html">Reader</a><ul class='methods'><li data-type='method'><a href="Reader.html#addCalculate">addCalculate</a></li><li data-type='method'><a href="Reader.html#addField">addField</a></li><li data-type='method'><a href="Reader.html#addFunction">addFunction</a></li><li data-type='method'><a href="Reader.html#addGroup">addGroup</a></li><li data-type='method'><a href="Reader.html#clean">clean</a></li><li data-type='method'><a href="Reader.html#emptyConditions">emptyConditions</a></li><li data-type='method'><a href="Reader.html#emptyFields">emptyFields</a></li><li data-type='method'><a href="Reader.html#emptyFunctions">emptyFunctions</a></li><li data-type='method'><a href="Reader.html#emptyGroups">emptyGroups</a></li><li data-type='method'><a href="Reader.html#get">get</a></li><li data-type='method'><a href="Reader.html#queue">queue</a></li><li data-type='method'><a href="Reader.html#removeField">removeField</a></li><li data-type='method'><a href="Reader.html#removeFunction">removeFunction</a></li><li data-type='method'><a href="Reader.html#removeGroup">removeGroup</a></li><li data-type='method'><a href="Reader.html#set">set</a></li><li data-type='method'><a href="Reader.html#subQuery">subQuery</a></li><li data-type='method'><a href="Reader.html#then">then</a></li><li data-type='method'><a href="Reader.html#toSelect">toSelect</a></li><li data-type='method'><a href="Reader.html#toString">toString</a></li><li data-type='method'><a href="Reader.html#where">where</a></li></ul></li><li><a href="Writer.html">Writer</a><ul class='methods'><li data-type='method'><a href="Writer.html#field">field</a></li><li data-type='method'><a href="Writer.html#queue">queue</a></li><li data-type='method'><a href="Writer.html#tag">tag</a></li><li data-type='method'><a href="Writer.html#then">then</a></li><li data-type='method'><a href="Writer.html#time">time</a></li><li data-type='method'><a href="Writer.html#toJSON">toJSON</a></li></ul></li></ul>
</nav>

<div id="main">
    
    <h1 class="page-title">Reader</h1>
    

    




<section>

<header>
    
        <h2>
        Reader
        </h2>
        
            <div class="class-description"><p>Influxdb Reader extends InfluxQL</p></div>
        
    
</header>

<article>
    <div class="container-overview">
    
        

    
    <h2>Constructor</h2>
    

    <h4 class="name" id="Reader"><span class="type-signature"></span>new Reader<span class="signature">(client, queue)</span><span class="type-signature"></span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_reader.js.html">lib/reader.js</a>, <a href="lib_reader.js.html#line21">line 21</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    <p>Get the influxdb reader</p>
</div>









    <h5>Example</h5>
    
    <pre class="prettyprint"><code>const Influx = require('influxdb-nodejs');
const client = new Influx('http://127.0.0.1:8086/mydb');
const reader = client.query('http');</code></pre>




    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>client</code></td>
            

            <td class="type">
            
                
<span class="param-type">Influx</span>


            
            </td>

            

            

            <td class="description last"><p>The influx instance</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>queue</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>The queue function</p></td>
        </tr>

    
    </tbody>
</table>
















    
    </div>

    
        <h3 class="subsection-title">Extends</h3>

        


    <ul>
        <li><a href="QL.html">QL</a></li>
    </ul>


    

    

    

     

    

    
        <h3 class="subsection-title">Members</h3>

        
            
<h4 class="name" id="end"><span class="type-signature"></span>end<span class="type-signature"></span></h4>





<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="node_modules_influx-ql_lib_ql.js.html">node_modules/influx-ql/lib/ql.js</a>, <a href="node_modules_influx-ql_lib_ql.js.html#line418">line 418</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>2.0.0</li></ul></dd>
    

    

    
    <dt class="tag-overrides">Overrides:</dt>
    <dd class="tag-overrides"><ul class="dummy"><li>
        <a href="QL.html#end">QL#end</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    <p>Set influx ql end time</p>
</div>







    <h5>Example</h5>
    
    <pre class="prettyprint"><code>const ql = new QL('mydb');
ql.measurement = 'http';
ql.end = '-1h';
console.info(ql.toSelect());
// => select * from "mydb".."http" where time &lt;= now() - 1h</code></pre>



        
            
<h4 class="name" id="fill"><span class="type-signature"></span>fill<span class="type-signature"></span></h4>





<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="node_modules_influx-ql_lib_ql.js.html">node_modules/influx-ql/lib/ql.js</a>, <a href="node_modules_influx-ql_lib_ql.js.html#line505">line 505</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>2.0.0</li></ul></dd>
    

    

    
    <dt class="tag-overrides">Overrides:</dt>
    <dd class="tag-overrides"><ul class="dummy"><li>
        <a href="QL.html#fill">QL#fill</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    <p>Set the influx query result fill value for time intervals that have no data</p>
</div>







    <h5>Example</h5>
    
    <pre class="prettyprint"><code>const ql = new QL('mydb');
ql.measurement = 'http';
ql.addGroup('spdy');
ql.fill = 0;
console.info(ql.toSelect());
// => select * from "mydb".."http" group by "spdy" fill(0)</code></pre>



        
            
<h4 class="name" id="limit"><span class="type-signature"></span>limit<span class="type-signature"></span></h4>





<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="node_modules_influx-ql_lib_ql.js.html">node_modules/influx-ql/lib/ql.js</a>, <a href="node_modules_influx-ql_lib_ql.js.html#line447">line 447</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>2.0.0</li></ul></dd>
    

    

    
    <dt class="tag-overrides">Overrides:</dt>
    <dd class="tag-overrides"><ul class="dummy"><li>
        <a href="QL.html#limit">QL#limit</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    <p>Set influx ql query result point limit</p>
</div>







    <h5>Example</h5>
    
    <pre class="prettyprint"><code>const ql = new QL('mydb');
ql.measurement = 'http';
ql.limit = 10;
console.info(ql.toSelect());
// => select * from "mydb".."http" limit 10</code></pre>



        
            
<h4 class="name" id="measurement"><span class="type-signature"></span>measurement<span class="type-signature"></span></h4>





<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="node_modules_influx-ql_lib_ql.js.html">node_modules/influx-ql/lib/ql.js</a>, <a href="node_modules_influx-ql_lib_ql.js.html#line361">line 361</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>2.0.0</li></ul></dd>
    

    

    
    <dt class="tag-overrides">Overrides:</dt>
    <dd class="tag-overrides"><ul class="dummy"><li>
        <a href="QL.html#measurement">QL#measurement</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    <p>Set influx ql measurement</p>
</div>







    <h5>Example</h5>
    
    <pre class="prettyprint"><code>const ql = new QL('mydb');
ql.measurement = 'http';
console.info(ql.toSelect());
// => select * from "mydb".."http"</code></pre>



        
            
<h4 class="name" id="offset"><span class="type-signature"></span>offset<span class="type-signature"></span></h4>





<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="node_modules_influx-ql_lib_ql.js.html">node_modules/influx-ql/lib/ql.js</a>, <a href="node_modules_influx-ql_lib_ql.js.html#line577">line 577</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>2.0.0</li></ul></dd>
    

    

    
    <dt class="tag-overrides">Overrides:</dt>
    <dd class="tag-overrides"><ul class="dummy"><li>
        <a href="QL.html#offset">QL#offset</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    <p>Set influx ql query offset of the result</p>
</div>







    <h5>Example</h5>
    
    <pre class="prettyprint"><code>const ql = new QL('mydb');
ql.measurement = 'http';
ql.offset = 10;
console.info(ql.toSelect());
// => select * from "mydb".."http" offset 10</code></pre>



        
            
<h4 class="name" id="order"><span class="type-signature"></span>order<span class="type-signature"></span></h4>





<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="node_modules_influx-ql_lib_ql.js.html">node_modules/influx-ql/lib/ql.js</a>, <a href="node_modules_influx-ql_lib_ql.js.html#line545">line 545</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>2.0.0</li></ul></dd>
    

    

    
    <dt class="tag-overrides">Overrides:</dt>
    <dd class="tag-overrides"><ul class="dummy"><li>
        <a href="QL.html#order">QL#order</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    <p>Set the influx query result order of time</p>
</div>







    <h5>Example</h5>
    
    <pre class="prettyprint"><code>const ql = new QL('mydb');
ql.measurement = 'http';
ql.addGroup('spdy');
ql.order = 'desc';
console.info(ql.toSelect());
// => select * from "mydb".."http" group by "spdy" order by time desc</code></pre>



        
            
<h4 class="name" id="relation"><span class="type-signature"></span>relation<span class="type-signature"></span></h4>





<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="node_modules_influx-ql_lib_ql.js.html">node_modules/influx-ql/lib/ql.js</a>, <a href="node_modules_influx-ql_lib_ql.js.html#line636">line 636</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>2.0.0</li></ul></dd>
    

    

    
    <dt class="tag-overrides">Overrides:</dt>
    <dd class="tag-overrides"><ul class="dummy"><li>
        <a href="QL.html#relation">QL#relation</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    <p>Get influx ql default where relation</p>
</div>







    <h5>Example</h5>
    
    <pre class="prettyprint"><code>const ql = new QL('mydb');
console.info(ql.relation);
// => 'and'</code></pre>



        
            
<h4 class="name" id="RP"><span class="type-signature"></span>RP<span class="type-signature"></span></h4>





<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="node_modules_influx-ql_lib_ql.js.html">node_modules/influx-ql/lib/ql.js</a>, <a href="node_modules_influx-ql_lib_ql.js.html#line325">line 325</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>2.0.0</li></ul></dd>
    

    

    
    <dt class="tag-overrides">Overrides:</dt>
    <dd class="tag-overrides"><ul class="dummy"><li>
        <a href="QL.html#RP">QL#RP</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    <p>Set influx ql retention policy</p>
</div>







    <h5>Example</h5>
    
    <pre class="prettyprint"><code>const ql = new QL('mydb');
ql.measurement = 'http';
ql.RP = 'two-weeks';
console.info(ql.toSelect());
// => select * from "mydb"."two-weeks"."http"</code></pre>



        
            
<h4 class="name" id="slimit"><span class="type-signature"></span>slimit<span class="type-signature"></span></h4>





<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="node_modules_influx-ql_lib_ql.js.html">node_modules/influx-ql/lib/ql.js</a>, <a href="node_modules_influx-ql_lib_ql.js.html#line475">line 475</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>2.0.0</li></ul></dd>
    

    

    
    <dt class="tag-overrides">Overrides:</dt>
    <dd class="tag-overrides"><ul class="dummy"><li>
        <a href="QL.html#slimit">QL#slimit</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    <p>Set influx query result series limit</p>
</div>







    <h5>Example</h5>
    
    <pre class="prettyprint"><code>const ql = new QL('mydb');
ql.slimit = 3;
console.info(ql.toSelect());
// => select * from "mydb" slimit 3</code></pre>



        
            
<h4 class="name" id="soffset"><span class="type-signature"></span>soffset<span class="type-signature"></span></h4>





<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="node_modules_influx-ql_lib_ql.js.html">node_modules/influx-ql/lib/ql.js</a>, <a href="node_modules_influx-ql_lib_ql.js.html#line607">line 607</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>2.0.0</li></ul></dd>
    

    

    
    <dt class="tag-overrides">Overrides:</dt>
    <dd class="tag-overrides"><ul class="dummy"><li>
        <a href="QL.html#soffset">QL#soffset</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    <p>Set influx ql offset series in the query results</p>
</div>







    <h5>Example</h5>
    
    <pre class="prettyprint"><code>const ql = new QL('mydb');
ql.soffset = 10;
console.info(ql.toSelect());
// => select * from "mydb" soffset 10</code></pre>



        
            
<h4 class="name" id="start"><span class="type-signature"></span>start<span class="type-signature"></span></h4>





<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="node_modules_influx-ql_lib_ql.js.html">node_modules/influx-ql/lib/ql.js</a>, <a href="node_modules_influx-ql_lib_ql.js.html#line389">line 389</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>2.0.0</li></ul></dd>
    

    

    
    <dt class="tag-overrides">Overrides:</dt>
    <dd class="tag-overrides"><ul class="dummy"><li>
        <a href="QL.html#start">QL#start</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    <p>Set influx ql start time</p>
</div>







    <h5>Example</h5>
    
    <pre class="prettyprint"><code>const ql = new QL('mydb');
ql.measurement = 'http';
ql.start = '-3h';
console.info(ql.toSelect());
// => select * from "mydb".."http" where time >= now() - 3h</code></pre>



        
    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    <h4 class="name" id="addCalculate"><span class="type-signature"></span>addCalculate<span class="signature">(type, field)</span><span class="type-signature"></span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_reader.js.html">lib/reader.js</a>, <a href="lib_reader.js.html#line199">line 199</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    <p>Add influx ql calculate, use addFunction instead of it.</p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>type</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last"><p>calculate type</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>field</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last"><p>calculate field</p></td>
        </tr>

    
    </tbody>
</table>
















        
            

    

    <h4 class="name" id="addField"><span class="type-signature"></span>addField<span class="signature">(field)</span><span class="type-signature"></span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="node_modules_influx-ql_lib_ql.js.html">node_modules/influx-ql/lib/ql.js</a>, <a href="node_modules_influx-ql_lib_ql.js.html#line705">line 705</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>2.6.0</li></ul></dd>
    

    
    <dt class="inherited-from">Inherited From:</dt>
    <dd class="inherited-from"><ul class="dummy"><li>
        <a href="QL.html#addField">QL#addField</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    <p>Add the field of the query result</p>
</div>









    <h5>Examples</h5>
    
    <pre class="prettyprint"><code>const ql = new QL('mydb');
ql.measurement = 'http';
ql.addField('status', 'spdy', 'fetch time');
console.info(ql.toSelect());
// => select "fetch time","spdy","status" from "mydb".."http"</code></pre>

    <pre class="prettyprint"><code>const ql = new QL('mydb');
ql.measurement = 'http';
ql.addField({
  'fetch time': 'ft',
});
console.info(ql.toSelect());
// => select "fetch time" as "ft" from "mydb".."http"</code></pre>




    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>field</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last"><p>field's name</p></td>
        </tr>

    
    </tbody>
</table>














<h5>Returns:</h5>

        
<div class="param-desc">
    <p>QL</p>
</div>



    


        
            

    

    <h4 class="name" id="addFunction"><span class="type-signature"></span>addFunction<span class="signature">(type, field, field, options)</span><span class="type-signature"> &rarr; {<a href="QL.html">QL</a>}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="node_modules_influx-ql_lib_ql.js.html">node_modules/influx-ql/lib/ql.js</a>, <a href="node_modules_influx-ql_lib_ql.js.html#line878">line 878</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>2.6.0</li></ul></dd>
    

    
    <dt class="inherited-from">Inherited From:</dt>
    <dd class="inherited-from"><ul class="dummy"><li>
        <a href="QL.html#addFunction">QL#addFunction</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    <p>Add influx ql function</p>
</div>









    <h5>Examples</h5>
    
    <pre class="prettyprint"><code>const ql = new QL('mydb');
ql.measurement = 'http';
ql.addFunction('count', 'use');
ql.addFunction('mean', 'use');
ql.addGroup('spdy');
console.info(ql.toSelect());
// => select count("use"),mean("use") from "mydb".."http" group by "spdy"</code></pre>

    <pre class="prettyprint"><code>const ql = new QL('mydb');
ql.measurement = 'http';
ql.addFunction("bottom", 'use', 3);
console.info(ql.toSelect());
// => select bottom("use",3) from "mydb".."http"</code></pre>

    <pre class="prettyprint"><code>const ql = new QL('mydb');
ql.measurement = 'http';
ql.addFunction('count("use")');
console.info(ql.toSelect());
// => select count("use") from "mydb".."http"</code></pre>

    <pre class="prettyprint"><code>const ql = new QL('mydb');
ql.measurement = 'http';
ql.addFunction('count("use")', {
  alias: 'countUse',
});
console.info(ql.toSelect());
// => select count("use") as "countUse" from "mydb".."http"</code></pre>

    <pre class="prettyprint"><code>const ql = new QL('mydb');
ql.measurement = 'http';
ql.addFunction('count', 'use', {
  alias: 'countUse',
});
console.info(ql.toSelect());
// => select count("use") as "countUse" from "mydb".."http"</code></pre>




    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>type</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last"><p>function name</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>field</code></td>
            

            <td class="type">
            
                
<span class="param-type">Any</span>


            
            </td>

            

            

            <td class="description last"><p>function param</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>field</code></td>
            

            <td class="type">
            
                
<span class="param-type">Any</span>


            
            </td>

            

            

            <td class="description last"><p>function param</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last"><p>set the alias for the function, eg: {&quot;alias&quot;: &quot;the alias name&quot;}</p></td>
        </tr>

    
    </tbody>
</table>














<h5>Returns:</h5>

        


<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="QL.html">QL</a></span>


    </dd>
</dl>

    


        
            

    

    <h4 class="name" id="addGroup"><span class="type-signature"></span>addGroup<span class="signature">(tag)</span><span class="type-signature"> &rarr; {<a href="QL.html">QL</a>}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="node_modules_influx-ql_lib_ql.js.html">node_modules/influx-ql/lib/ql.js</a>, <a href="node_modules_influx-ql_lib_ql.js.html#line970">line 970</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>2.0.0</li></ul></dd>
    

    
    <dt class="inherited-from">Inherited From:</dt>
    <dd class="inherited-from"><ul class="dummy"><li>
        <a href="QL.html#addGroup">QL#addGroup</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    <p>Add influx ql group by</p>
</div>









    <h5>Example</h5>
    
    <pre class="prettyprint"><code>const ql = new QL('mydb');
ql.measurement = 'http';
ql.addGroup('spdy', 'method');
ql.addFunction('count', 'use');
console.info(ql.toSelect());
// => select count("use") from "mydb".."http" group by "method","spdy"</code></pre>




    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>tag</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last"><p>tag's name</p></td>
        </tr>

    
    </tbody>
</table>














<h5>Returns:</h5>

        


<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="QL.html">QL</a></span>


    </dd>
</dl>

    


        
            

    

    <h4 class="name" id="clean"><span class="type-signature"></span>clean<span class="signature">()</span><span class="type-signature"></span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="node_modules_influx-ql_lib_ql.js.html">node_modules/influx-ql/lib/ql.js</a>, <a href="node_modules_influx-ql_lib_ql.js.html#line1108">line 1108</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>2.5.0</li></ul></dd>
    

    
    <dt class="inherited-from">Inherited From:</dt>
    <dd class="inherited-from"><ul class="dummy"><li>
        <a href="QL.html#clean">QL#clean</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    <p>Clean all the influx ql condition</p>
</div>









    <h5>Example</h5>
    
    <pre class="prettyprint"><code>const ql = new QL('mydb');
ql.measurement = 'http';
ql.addField('fetch time');
ql.addGroup('spdy');
ql.clean();
console.info(ql.toSelect());
// => select * from "mydb".."http"</code></pre>


















        
            

    

    <h4 class="name" id="emptyConditions"><span class="type-signature"></span>emptyConditions<span class="signature">()</span><span class="type-signature"> &rarr; {<a href="QL.html">QL</a>}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="node_modules_influx-ql_lib_ql.js.html">node_modules/influx-ql/lib/ql.js</a>, <a href="node_modules_influx-ql_lib_ql.js.html#line828">line 828</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>2.0.0</li></ul></dd>
    

    
    <dt class="inherited-from">Inherited From:</dt>
    <dd class="inherited-from"><ul class="dummy"><li>
        <a href="QL.html#emptyConditions">QL#emptyConditions</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    <p>Empty the influx ql where condition</p>
</div>









    <h5>Example</h5>
    
    <pre class="prettyprint"><code>const ql = new QL();
ql.measurement = 'http';
ql.condition({
  code: 500,
  spyd: '1',
});
console.info(ql.toSelect());
// => select * from "http" where ("code" = 500 and "spdy" = '1')
ql.emptyConditions();
console.info(ql.toSelect());
// => select * from "http"</code></pre>
















<h5>Returns:</h5>

        


<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="QL.html">QL</a></span>


    </dd>
</dl>

    


        
            

    

    <h4 class="name" id="emptyFields"><span class="type-signature"></span>emptyFields<span class="signature">()</span><span class="type-signature"></span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="node_modules_influx-ql_lib_ql.js.html">node_modules/influx-ql/lib/ql.js</a>, <a href="node_modules_influx-ql_lib_ql.js.html#line754">line 754</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>2.0.0</li></ul></dd>
    

    
    <dt class="inherited-from">Inherited From:</dt>
    <dd class="inherited-from"><ul class="dummy"><li>
        <a href="QL.html#emptyFields">QL#emptyFields</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    <p>Remove all fields of the query result</p>
</div>









    <h5>Example</h5>
    
    <pre class="prettyprint"><code>const ql = new QL('mydb');
ql.measurement = 'http';
ql.addField('status', 'spdy', 'fetch time');
ql.emptyFields();
console.info(ql.toSelect());
// => select * from "mydb".."http"</code></pre>
















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>QL</p>
</div>



    


        
            

    

    <h4 class="name" id="emptyFunctions"><span class="type-signature"></span>emptyFunctions<span class="signature">()</span><span class="type-signature"> &rarr; {<a href="QL.html">QL</a>}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="node_modules_influx-ql_lib_ql.js.html">node_modules/influx-ql/lib/ql.js</a>, <a href="node_modules_influx-ql_lib_ql.js.html#line952">line 952</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>2.0.0</li></ul></dd>
    

    
    <dt class="inherited-from">Inherited From:</dt>
    <dd class="inherited-from"><ul class="dummy"><li>
        <a href="QL.html#emptyFunctions">QL#emptyFunctions</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    <p>Remove all influx ql functions</p>
</div>









    <h5>Example</h5>
    
    <pre class="prettyprint"><code>const ql = new QL('mydb');
ql.measurement = 'http';
ql.addFunction('count', 'use');
ql.addFunction('mean', 'use');
ql.emptyFunctions();
ql.addGroup('spdy');
console.info(ql.toSelect());
// => select * from "mydb".."http" group by "spdy"</code></pre>
















<h5>Returns:</h5>

        


<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="QL.html">QL</a></span>


    </dd>
</dl>

    


        
            

    

    <h4 class="name" id="emptyGroups"><span class="type-signature"></span>emptyGroups<span class="signature">()</span><span class="type-signature"> &rarr; {<a href="QL.html">QL</a>}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="node_modules_influx-ql_lib_ql.js.html">node_modules/influx-ql/lib/ql.js</a>, <a href="node_modules_influx-ql_lib_ql.js.html#line1009">line 1009</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>2.0.0</li></ul></dd>
    

    
    <dt class="inherited-from">Inherited From:</dt>
    <dd class="inherited-from"><ul class="dummy"><li>
        <a href="QL.html#emptyGroups">QL#emptyGroups</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    <p>Empty influx ql group by</p>
</div>









    <h5>Example</h5>
    
    <pre class="prettyprint"><code>const ql = new QL('mydb');
ql.measurement = 'http';
ql.addGroup('spdy', 'method');
ql.emptyGroups();
console.info(ql.toSelect());
// => select * from "mydb".."http"</code></pre>
















<h5>Returns:</h5>

        


<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="QL.html">QL</a></span>


    </dd>
</dl>

    


        
            

    

    <h4 class="name" id="get"><span class="type-signature"></span>get<span class="signature">(key)</span><span class="type-signature"> &rarr; {Any}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_reader.js.html">lib/reader.js</a>, <a href="lib_reader.js.html#line102">line 102</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>2.2.0</li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    <p>Get the reader options</p>
</div>









    <h5>Example</h5>
    
    <pre class="prettyprint"><code>const reader = client.query('http').set({
  limit: 10,
});
console.info(reader.get('limit'));
// => 10</code></pre>




    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>key</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last"><p>The key of options</p></td>
        </tr>

    
    </tbody>
</table>














<h5>Returns:</h5>

        


<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Any</span>


    </dd>
</dl>

    


        
            

    

    <h4 class="name" id="queue"><span class="type-signature"></span>queue<span class="signature">()</span><span class="type-signature"> &rarr; {<a href="Reader.html">Reader</a>}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_reader.js.html">lib/reader.js</a>, <a href="lib_reader.js.html#line164">line 164</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>2.2.0</li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    <p>Add the query to the queue</p>
</div>









    <h5>Example</h5>
    
    <pre class="prettyprint"><code>client.query('http')
  .tag({
    spdy: '1',
  })
  .queue();</code></pre>
















<h5>Returns:</h5>

        


<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="Reader.html">Reader</a></span>


    </dd>
</dl>

    


        
            

    

    <h4 class="name" id="removeField"><span class="type-signature"></span>removeField<span class="signature">(field)</span><span class="type-signature"></span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="node_modules_influx-ql_lib_ql.js.html">node_modules/influx-ql/lib/ql.js</a>, <a href="node_modules_influx-ql_lib_ql.js.html#line723">line 723</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>2.0.0</li></ul></dd>
    

    
    <dt class="inherited-from">Inherited From:</dt>
    <dd class="inherited-from"><ul class="dummy"><li>
        <a href="QL.html#removeField">QL#removeField</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    <p>Remove the field of the query result</p>
</div>









    <h5>Example</h5>
    
    <pre class="prettyprint"><code>const ql = new QL('mydb');
ql.measurement = 'http';
ql.addField('status', 'spdy', 'fetch time');
ql.removeField('status');
console.info(ql.toSelect());
// => select "fetch time","spdy" from "mydb".."http"</code></pre>




    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>field</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last"><p>field's name</p></td>
        </tr>

    
    </tbody>
</table>














<h5>Returns:</h5>

        
<div class="param-desc">
    <p>QL</p>
</div>



    


        
            

    

    <h4 class="name" id="removeFunction"><span class="type-signature"></span>removeFunction<span class="signature">(type, field, field)</span><span class="type-signature"> &rarr; {<a href="QL.html">QL</a>}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="node_modules_influx-ql_lib_ql.js.html">node_modules/influx-ql/lib/ql.js</a>, <a href="node_modules_influx-ql_lib_ql.js.html#line918">line 918</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>2.6.0</li></ul></dd>
    

    
    <dt class="inherited-from">Inherited From:</dt>
    <dd class="inherited-from"><ul class="dummy"><li>
        <a href="QL.html#removeFunction">QL#removeFunction</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    <p>Remove influx ql function</p>
</div>









    <h5>Example</h5>
    
    <pre class="prettyprint"><code>const ql = new QL('mydb');
ql.measurement = 'http';
ql.addFunction('count', 'use');
ql.addFunction('mean', 'use');
ql.removeFunction('count', 'use');
ql.addGroup('spdy');
console.info(ql.toSelect());
// => select mean("use") from "mydb".."http" group by "spdy"</code></pre>




    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>type</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last"><p>function name</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>field</code></td>
            

            <td class="type">
            
                
<span class="param-type">Any</span>


            
            </td>

            

            

            <td class="description last"><p>function param</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>field</code></td>
            

            <td class="type">
            
                
<span class="param-type">Any</span>


            
            </td>

            

            

            <td class="description last"><p>function param</p></td>
        </tr>

    
    </tbody>
</table>














<h5>Returns:</h5>

        


<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="QL.html">QL</a></span>


    </dd>
</dl>

    


        
            

    

    <h4 class="name" id="removeGroup"><span class="type-signature"></span>removeGroup<span class="signature">(tag)</span><span class="type-signature"> &rarr; {<a href="QL.html">QL</a>}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="node_modules_influx-ql_lib_ql.js.html">node_modules/influx-ql/lib/ql.js</a>, <a href="node_modules_influx-ql_lib_ql.js.html#line990">line 990</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>2.0.0</li></ul></dd>
    

    
    <dt class="inherited-from">Inherited From:</dt>
    <dd class="inherited-from"><ul class="dummy"><li>
        <a href="QL.html#removeGroup">QL#removeGroup</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    <p>Remove influx ql group by</p>
</div>









    <h5>Example</h5>
    
    <pre class="prettyprint"><code>const ql = new QL('mydb');
ql.measurement = 'http';
ql.addGroup('spdy', 'method');
ql.removeGroup('spdy')
ql.addFunction('count', 'use');
console.info(ql.toSelect());
// => select count("use") from "mydb".."http" group by "method"</code></pre>




    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>tag</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last"><p>tag's name</p></td>
        </tr>

    
    </tbody>
</table>














<h5>Returns:</h5>

        


<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="QL.html">QL</a></span>


    </dd>
</dl>

    


        
            

    

    <h4 class="name" id="set"><span class="type-signature"></span>set<span class="signature">(key, v)</span><span class="type-signature"> &rarr; {<a href="Reader.html">Reader</a>}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_reader.js.html">lib/reader.js</a>, <a href="lib_reader.js.html#line77">line 77</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>2.2.0</li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    <p>Set the reader options</p>
</div>









    <h5>Example</h5>
    
    <pre class="prettyprint"><code>client.query('http')
  .condition('spdy', 'fast')
  // query data response type
  .set('format', 'json')
  // the specified precision of epoch timestamps
  .set('epoch', 's')
  .set({
    // the retention policy
    RP: 'autogen',
    // the query start time, 3 hours ago
    start: '-3h',
    // the query end time, 1 hours ago
    end: '-1h',
    // the query point limit, paginates N points in the query results
    limit: 10,
    // the query series limit
    slimit: 1,
    // the query result order
    order: 'desc',
    // the query offset
    offset: 10,
    // specifies the number of series to paginate
    soffset: 0,
    // changes the value reported for time intervals that have no data
    fill: 0,
  })
  .then(console.info)
  .catch(console.error);</code></pre>




    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>key</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>
|

<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last"><p>The key of options, eg: format epoch RP start end limit slimit order offset soffset fill</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>v</code></td>
            

            <td class="type">
            
                
<span class="param-type">Any</span>


            
            </td>

            

            

            <td class="description last"><p>The value of options</p></td>
        </tr>

    
    </tbody>
</table>














<h5>Returns:</h5>

        


<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="Reader.html">Reader</a></span>


    </dd>
</dl>

    


        
            

    

    <h4 class="name" id="subQuery"><span class="type-signature"></span>subQuery<span class="signature">()</span><span class="type-signature"></span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="node_modules_influx-ql_lib_ql.js.html">node_modules/influx-ql/lib/ql.js</a>, <a href="node_modules_influx-ql_lib_ql.js.html#line1088">line 1088</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>2.5.0</li></ul></dd>
    

    
    <dt class="inherited-from">Inherited From:</dt>
    <dd class="inherited-from"><ul class="dummy"><li>
        <a href="QL.html#subQuery">QL#subQuery</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    <p>Set the sub query string, it will get the current ql for sub query
and clean the query options</p>
</div>









    <h5>Example</h5>
    
    <pre class="prettyprint"><code>const ql = new QL('mydb');
ql.measurement = 'http';
ql.addFunction('max', 'fetch time');
ql.addGroup('spdy');
ql.subQuery();
ql.addFunction('sum', 'max');
console.info(ql.toSelect());
// => select sum("max") from (select max("fetch time") from "mydb".."http" group by "spdy")</code></pre>


















        
            

    

    <h4 class="name" id="then"><span class="type-signature"></span>then<span class="signature">(resolve, reject)</span><span class="type-signature"> &rarr; {Promise}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_reader.js.html">lib/reader.js</a>, <a href="lib_reader.js.html#line116">line 116</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>2.2.0</li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    <p>Get the query promise</p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>resolve</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>resolve function</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>reject</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>reject function</p></td>
        </tr>

    
    </tbody>
</table>














<h5>Returns:</h5>

        


<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    


        
            

    

    <h4 class="name" id="toSelect"><span class="type-signature"></span>toSelect<span class="signature">()</span><span class="type-signature"> &rarr; {String}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="node_modules_influx-ql_lib_ql.js.html">node_modules/influx-ql/lib/ql.js</a>, <a href="node_modules_influx-ql_lib_ql.js.html#line1035">line 1035</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>2.0.0</li></ul></dd>
    

    
    <dt class="inherited-from">Inherited From:</dt>
    <dd class="inherited-from"><ul class="dummy"><li>
        <a href="QL.html#toSelect">QL#toSelect</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    <p>Get the influx select ql</p>
</div>









    <h5>Example</h5>
    
    <pre class="prettyprint"><code>const ql = new QL('mydb');
ql.measurement = 'http';
ql.RP = 'two-weeks';
ql.addField('status', 'spdy', 'fetch time');
ql.start = '2016-01-01';
ql.end = '-3h';
ql.limit = 10;
ql.order = 'desc';
ql.offset = 10;
ql.addGroup('spdy');
ql.condition('code', 400);
ql.condition('use', 30, '&lt;=');
ql.fill = 0;
console.info(ql.toSelect());</code></pre>
















<h5>Returns:</h5>

        


<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">String</span>


    </dd>
</dl>

    


        
            

    

    <h4 class="name" id="toString"><span class="type-signature"></span>toString<span class="signature">()</span><span class="type-signature"> &rarr; {String}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_reader.js.html">lib/reader.js</a>, <a href="lib_reader.js.html#line191">line 191</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>2.2.1</li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    <p>Get the influx ql of the reader</p>
</div>









    <h5>Example</h5>
    
    <pre class="prettyprint"><code>const ql = client.query('http')
  .tag({
    spdy: '1',
  })
  .toString();
// => select * from "http" where "spdy" = '1'</code></pre>
















<h5>Returns:</h5>

        


<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">String</span>


    </dd>
</dl>

    


        
            

    

    <h4 class="name" id="where"><span class="type-signature"></span>where<span class="signature">(key, value, relation, operator)</span><span class="type-signature"> &rarr; {<a href="QL.html">QL</a>}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="node_modules_influx-ql_lib_ql.js.html">node_modules/influx-ql/lib/ql.js</a>, <a href="node_modules_influx-ql_lib_ql.js.html#line793">line 793</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>2.0.0</li></ul></dd>
    

    
    <dt class="inherited-from">Inherited From:</dt>
    <dd class="inherited-from"><ul class="dummy"><li>
        <a href="QL.html#where">QL#where</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    <p>Add the influx ql where condition, alias for condition</p>
</div>









    <h5>Examples</h5>
    
    <pre class="prettyprint"><code>const ql = new QL();
ql.measurement = 'http';
ql.where({
  code: 500,
  spdy: '1',
});
console.info(ql.toSelect());
// => select * from "http" where ("code" = 500 and "spdy" = '1')</code></pre>

    <pre class="prettyprint"><code>const ql = new QL();
ql.measurement = 'http';
ql.where('spdy', ['1', '2']);
console.info(ql.toSelect());
// => select * from "mydb".."http" where ("spdy" = '1' or "spdy" = '2')</code></pre>

    <pre class="prettyprint"><code>const ql = new QL();
ql.measurement = 'http';
ql.where({
  code: 500,
  spdy: '1',
}, '!=');
console.info(ql.toSelect());
// => select * from "http" where ("code" != 500 and "spdy" != '1')</code></pre>




    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>key</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last"><p>the condition key</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>value</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last"><p>the condition value</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>relation</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last"><p>the multi condition relation</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>operator</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last"><p>the conditon operator, default is '='</p></td>
        </tr>

    
    </tbody>
</table>














<h5>Returns:</h5>

        


<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="QL.html">QL</a></span>


    </dd>
</dl>

    


        
    

    

    
</article>

</section>




</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.3</a> on Wed Mar 08 2017 21:59:10 GMT+0800 (CST) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>